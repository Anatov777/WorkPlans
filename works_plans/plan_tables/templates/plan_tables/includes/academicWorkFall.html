{% block content %}

{% if fallWorkQuerySet %}

<strong><div class='parHead'>Учебная работа (осень)</div></strong>

<form action='' method='post' id='form_Fall'>
  {% csrf_token %}
</form>
<div><table border='1' id='table_Fall'>
  <tr>
    <th rowspan='2' width='4%'>
      № <br>п/п
    </th>
    <th rowspan='2' width='12%'>
      Поток, группа
    </th>
    <th rowspan='2' width='19%'>
      Дисциплина
    </th>
    <th rowspan='2' width='5%'>
      Вид работ
    </th>
    <th colspan='5' width='42.8571428571%'>
      Кол-во часов по видам уч. работы (плановое)
    </th>
    <th colspan='2' width='17.1428571429%'>
      Всего
    </th>
  </tr>
  <tr>
    <th>сентябрь</th>
    <th>октябрь</th>
    <th>ноябрь</th>
    <th>декабрь</th>
    <th>январь</th>
    <th>план</th>
    <th>факт.</th>
  </tr>
{% for i in fallWorkQuerySet %}
  <tr>
    <td>
      <input type='text' name="num_p_{{ i.num_p }}" class='academNumP' form='form_Fall' value='{{ i.num_p }}' readonly">
    </td>
    <td>
      <textarea  class='academTextarea' name='flow_{{ i.num_p }}' class='academTextarea' form='form_Fall' value='{{ i.group }}' cols='40' rows='1'>{{ i.group }}</textarea>
    </td>
    <td>
      <input type='text' name='disc_{{ i.num_p }}' class='academTextarea' form='form_Fall' value='{{ i.discipline }}'>
    </td>
    <td>
      <input type='text' name='worktype_{{ i.num_p }}' class='academTextarea' form='form_Fall' value='{{ i.workType }}'>
    </td>
    <td>
      <input type='number' name='sep_{{ i.num_p }}' class='sep academNumInput' form='form_Fall' value='{{ i.september }}'>
    </td>
    <td>
      <input type='number' name='oct_{{ i.num_p }}' class='oct academNumInput' form='form_Fall' value='{{ i.october }}'>
    </td>
    <td>
      <input type='number' name='nov_{{ i.num_p }}' class='nov academNumInput' form='form_Fall' value='{{ i.november }}'>
    </td>
    <td>
      <input type='number' name='dec_{{ i.num_p }}' class='dec academNumInput' form='form_Fall' value='{{ i.december }}'>
    </td>
    <td>
      <input type='number' name='jan_{{ i.num_p }}' class='jan academNumInput' form='form_Fall' value='{{ i.januar }}'>
    </td>
    <td>
      <input type='number' id='count_{{ i.num_p }}' name='sumplan_{{ i.num_p }}' class='sum_plan academNumInput' form='form_Fall' readonly>
    </td>
    <td>
      <input type='number' id='fact_{{ i.num_p }}' name="fact_{{ i.num_p }}" class='fact_work academNumInput' form='form_Fall' value='{{ i.fact }}'>
    </td>
  </tr>

{% endfor %}
  <tr>
    <td colspan='9' align='right'>
      Всего по плану:
    </td>
    <td>
      <input name='sumplan_all' type='number' class='all_plan academNumInput' form='form_Fall' readonly>
    </td>
    <td bgcolor='grey'>
    </td>
  </tr>
  <tr>
    <td colspan='9' align='right'>
      Фактическое выполнение:
    </td>
    <td bgcolor='grey'>
    </td>
    <td>
      <input name='sumfact_all' type='number' class='all_fact academNumInput' form='form_Fall' readonly>
    </td>
  </tr>
</table></div>

{% else %}

<strong><div class='parHead'>Учебная работа (осень)</div></strong>

<form action='' method='post' id='form_Fall'>
  {% csrf_token %}
</form>
<div><table border='1' id='table_Fall'>
  <tr>
    <th rowspan='2' width='30px'>
      № п/п
    </th>
    <th rowspan='2' width='250px'>
      Поток, группа
    </th>
    <th rowspan='2' width='150px'>
      Дисциплина
    </th>
    <th rowspan='2'>
      Вид работ*
    </th>
    <th colspan='5'>
      Кол-во часов по видам уч. работы (плановое)
    </th>
    <th colspan='2'>
      Всего
    </th>
  </tr>
  <tr>
    <th>сентябрь</th>
    <th>октябрь</th>
    <th>ноябрь</th>
    <th>декабрь</th>
    <th>январь</th>
    <th>план</th>
    <th>факт.</th>
  </tr>
  <tr>
    <td>
      <input type='text' name="num_p_1" class='academNumP' form='form_Fall' value='1' size='3' readonly>
    </td>
    <td>
      <input type='text' name='flow_1' class='academTextarea' form='form_Fall'>
    </td>
    <td>
      <input type='text' name='disc_1' class='academTextarea' form='form_Fall'>
    </td>
    <td>
      <input type='text' name='worktype_1' class='academTextarea' form='form_Fall'>
    </td>
    <td>
      <input type='number' name='sep_1' class='sep academNumInput' form='form_Fall'>
    </td>
    <td>
      <input type='number' name='oct_1' class='oct academNumInput' form='form_Fall'>
    </td>
    <td>
      <input type='number' name='nov_1' class='nov academNumInput' form='form_Fall'>
    </td>
    <td>
      <input type='number' name='dec_1' class='dec academNumInput' form='form_Fall'>
    </td>
    <td>
      <input type='number' name='jan_1' class='jan academNumInput' form='form_Fall'>
    </td>
    <td>
      <input type='number' id='count_1' name='sumplan_1' class='sum_plan academNumInput' form='form_Fall' readonly>
    </td>
    <td>
      <input type='number' id='fact_1' name="fact_1" class='fact_work academNumInput' form='form_Fall'>
    </td>
  </tr>
  <tr>
    <td colspan='9' align='right'>
      Всего по плану:
    </td>
    <td>
      <input name='sumplan_all' type='number' class='all_plan academNumInput' form='form_Fall' readonly>
    </td>
    <td bgcolor='grey'>
    </td>
  </tr>
  <tr>
    <td colspan='9' align='right'>
      Фактическое выполнение:
    </td>
    <td bgcolor='grey'>
    </td>
    <td>
      <input name='sumfact_all' type='number' class='all_fact academNumInput' form='form_Fall' readonly>
    </td>
  </tr>
</table></div>

{% endif %}

<div class='academBtn'>
  <input type='button' value='Добавить строку' onClick='add_row_Fall()' form='form_Fall'>
  <input type='button' value='Удалить строку' onClick="delRow('table_Fall', this.id, 3)" form='form_Fall' id='del_btn_Fall' disabled>
  <input type='submit' value='Сохранить' form='form_Fall' id='btn_save_Fall' class='btnSave'>
</div>

{% endblock %}

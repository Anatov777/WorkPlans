{% block content %}

{% if otherWorkQuerySet %}

<strong><p class='parHead'>Другие виды работ</p></strong>

<form action='' method='post' id='form_otherWork'>
  {% csrf_token %}
</form>

<div><table border='1' id='tableId_otherWork'>
  <tr>
    <th width='4%'>
      № <br>п/п
    </th>
    <th width='50%'>
      Наименование работы
    </th>
    <th width='28%'>
      Дата выполнения <br>работы
    </th>
    <th width='9%'>
      Плановая <br>нагрузка
    </th>
    <th width='9%'>
      Фактическая <br>нагрузка
    </th>
  </tr>

{% for i in otherWorkQuerySet %}

<tr>
  <td>
    <input type='text' name="num_p_otherWork_{{ i.num_p }}" class='academNumP' form='form_otherWork' value='{{ i.num_p }}' readonly>
  </td>
  <td>
    <input type='text' name="nameWork_otherWork_{{ i.num_p }}" class='academTextarea' form='form_otherWork' value='{{ i.workName }}'>
  </td>
  <td>
    <input type='text' name="date_otherWork_{{ i.num_p }}" class='academTextarea' form='form_otherWork' value='{{ i.time }}'>
  </td>
  <td>
    <input type='number' id='count_otherWork_{{ i.num_p }}' name='plan_otherWork_{{ i.num_p }}' class='sum_plan_otherWork academNumInput' form='form_otherWork' value='{{ i.plan }}'>
  </td>
  <td>
    <input type='number' id='fact_otherWork_{{ i.num_p }}' name='fact_otherWork_{{ i.num_p }}' class='fact_work_otherWork academNumInput' form='form_otherWork' value='{{ i.fact }}'>
  </td>
</tr>

{% endfor %}
<tr>
  <td colspan='3' align='right'>
    Всего:
  </td>
  <td>
    <input type='number' id='sumPlan_otherWork' class='sumPlan_otherWork academNumInput' form='form_otherWork'><br>
  </td>
  <td>
    <input type='number' id='sumFact_otherWork' class='sumFact_otherWork academNumInput' form='form_otherWork'><br>
  </td>
</tr>
</table></div>

{% else %}

<strong><div class='parHead'>Другие виды работ</div></strong>

<form action='' method='post' id='form_otherWork'>
  {% csrf_token %}
</form>

<div><table border='1' id='tableId_otherWork'>
  <tr>
    <th style='width:30px'>
      № <br> п/п
    </th>
    <th style='width:530px'>
      Наименование работы*
    </th>
    <th style='width:170px'>
      Дата выполнения <br>работы
    </th>
    <th>
      План
    </th>
    <th>
      Факт.
    </th>
  </tr>
  <tr>
    <td>
      <input type='text' name="num_p_otherWork_1" class='academNumP' form='form_otherWork' value='1' readonly>
    </td>
    <td>
      <input type='text' name="nameWork_otherWork_1" class='academTextarea' form='form_otherWork'>
    </td>
    <td>
      <input type='text' name="date_otherWork_1" class='academTextarea' form='form_otherWork'>
    </td>
    <td>
      <input type='number' id='count_otherWork_1' name='plan_otherWork_1' class='sum_plan_otherWork academNumInput' form='form_otherWork'>
    </td>
    <td>
      <input type='number' id='fact_otherWork_1' name='fact_otherWork_1' class='fact_work_otherWork academNumInput' form='form_otherWork'>
    </td>
  </tr>
  <tr>
    <td colspan='3' align='right'>
      Всего:
    </td>
    <td>
      <input type='number' id='sumPlan_otherWork' class='sumPlan_otherWork academNumInput' form='form_otherWork'><br>
    </td>
    <td>
      <input type='number' id='sumFact_otherWork' class='sumFact_otherWork academNumInput' form='form_otherWork'><br>
    </td>
  </tr>
</table></div>

{% endif %}

<div class='academBtn'>
  <input type='button' value='Добавить строку' onClick='add_row_otherWork()' form='form_otherWork'>
  <input type='button' value='Удалить строку' onClick="delRow('tableId_otherWork', this.id, 2)" form='form_otherWork' id='del_btn_otherWork' disabled>
  <input type='submit' value='Сохранить' form='form_otherWork' id='btn_otherWork' class='btnSave'>
</div>

{% if input_error %}
  <p style="color:red">{{ input_error }}</p>
{% endif %}

<p class='notes'>* Наименование работы – воспитательная работа, профориентационная работа и пр.</p>

{% endblock %}
